{"version":3,"sources":["../src/index.js"],"names":["importScripts","NetworkError","name","Error","scripts","script","filepath","code","error","SyntaxError","message","filename"],"mappings":";;;;;kBAQwBA,a;;AARxB;;AACA;;AACA;;;;;;;;IAEMC,Y;;;;;;;;;;;;;;kMACJC,I,GAAO,c;;;;EADkBC,K;;AAIZ,SAASH,aAAT,GAAoC;AAAA,qCAATI,OAAS;AAATA,WAAS;AAAA;;AAAA;AAAA;AAAA;;AAAA;AACjD,yBAAqBA,OAArB,8HAA8B;AAAA,UAAnBC,MAAmB;;AAC5B,UAAIC,iBAAJ;AAAA,UAAcC,aAAd;;AAEA,UAAI;AACFD,mBAAW,mBAAQD,MAAR,CAAX;AACD,OAFD,CAEE,OAAOG,KAAP,EAAc;AACd,cAAM,IAAIC,WAAJ,CAAgBD,MAAME,OAAtB,CAAN;AACD;;AAED,UAAI;AACFH,eAAO,sBAAaD,QAAb,EAAuB,OAAvB,CAAP;AACD,OAFD,CAEE,OAAOE,KAAP,EAAc;AACd,cAAM,IAAIP,YAAJ,CAAiBO,MAAME,OAAvB,CAAN;AACD;;AAED,gCAAiBH,IAAjB,EAAuB,EAACI,UAAUL,QAAX,EAAvB;AACD;AAjBgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBlD","file":"index.js","sourcesContent":["import {resolve} from 'path'\nimport {runInThisContext} from 'vm'\nimport {readFileSync} from 'fs'\n\nclass NetworkError extends Error {\n  name = 'NetworkError'\n}\n\nexport default function importScripts (...scripts) {\n  for (const script of scripts) {\n    let filepath, code\n\n    try {\n      filepath = resolve(script)\n    } catch (error) {\n      throw new SyntaxError(error.message)\n    }\n\n    try {\n      code = readFileSync(filepath, 'utf-8')\n    } catch (error) {\n      throw new NetworkError(error.message)\n    }\n\n    runInThisContext(code, {filename: filepath})\n  }\n}\n"]}