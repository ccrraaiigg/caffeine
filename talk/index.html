<!-- Caffeine presentation slides, version 17 -->
<html lang="en">
  <head profile="http://www.w3.org/2005/10/profile">

    <link rel="icon" 
	  type="image/png" 
	  href="favicon.png">

    <meta charset="utf-8" />

    <meta name="viewport"
	  content="width=1024" />

    <meta name="apple-mobile-web-app-capable"
	  content="yes" />

    <title>Caffeine :: Livecode the Web!</title>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic"
	  rel="stylesheet" />

    <link href="/css/livecoding-talk.css"
	  rel="stylesheet" />

    <link href="/css/squeakjs.css"
	  rel="stylesheet" />

    <link rel="shortcut icon"
	  href="/favicon.png" />

    <link rel="apple-touch-icon"
	  href="/apple-touch-icon.png" />

    <!-- This HTML Imports polyfill makes a "WebComponentsReady" event
         available, for which talk.js listens. -->

    <script src="/js/webcomponentsjs/webcomponents-hi-ce.js"></script>

    <link rel="import"
	  href="/html/devtools/basic.html"></head>

  <body class="impress-not-supported">

    <div class="fallback-message">

      <p>

	Your browser <b>doesn't support the features required</b> by
	impress.js; the presentation has been simplified.

      </p>
      <p>

	For the best experience, please use the
	latest <a href="https://www.google.com/chrome"><b>Chrome</b></a>,
	<b>Safari</b>
	or <a href="https://www.mozilla.org/en-US/firefox/new"><b>Firefox</b></a>
	browser.

      </p></div>

    <div id="impress">

      <div class="step skip"
	   data-x="12000"
	   data-y="9500"
	   data-z="-10000"
	   data-scale="40"
	   style="position: absolute;
		  left: 0px;
		  top: 0px;
		  width: 1300px;
		  pointer-events: none;">

	<img src="pictures/backgrounds/bootscreen.jpg"
             style="z-index: -1;
		    width: 100%;
		    opacity: 0.1" /></div>

      <div id="title"
	   class="step"
	   data-scale="4">

        <span class="try">

	  Livecoding with

	</span>

        <h1>Caffeine</h1>

	<!-- This span can only be properly positioned via CSS after
             other elements on the page are loaded; make Caffeine do
             it. -->

	<span id="footnote"
	      class="footnote"
	      style="opacity: 0;
		     transition: all 500ms;
		     position: absolute;
		     white-space: nowrap;">
	  
	  <i><a href="https://github.com/ccrraaiigg/ccrraaiigg.github.io"
	     target="_blank"
	     rel="noopener noreferrer"
	     style="pointer-events: all;">

	      (GitHub repo)

	</a></i></span>
	
	<div id="title-workspace">

	  <canvas id="title-workspace-canvas"
		  data-keyboard-capture="true"
		  tabindex="1"
		  style="opacity: 0;"
		  width="300"
		  height="300"></canvas></div></div>

      <div id="pre-summary"
	   class="step"
	   data-x="850"
	   data-y="3400"
	   data-rotate="90"
	   data-scale="5"
	   style="width: 1200px;">

        <p>

	  Web apps are <strong>dynamic media</strong> under the
          hood...<br/> They can be that way when
          we're <strong>developing and presenting</strong>, too.

	</p><br><p>

	  <strong>Caffeine</strong> brings
	  the <a href="https://squeak.org"><strong>Smalltalk</strong></a>
	  livecoding model to the
	  dynamic <a href="https://en.wikipedia.org/wiki/JavaScript"><strong>JavaScript</strong></a>
	  system built into every web browser.

      </p></div>

      <div id="text-editor"
	   class="step"
	   data-x="1000"
	   data-y="6200"
	   data-scale="4">

	<center>

	  <iframe id="text-editor-widget"
		  src="html/ace/ace.html"
		  height="300"
		  width="800"></iframe>

	  <p style="font-size: 50%;">

	    <i>Your Favorite Text Editor</i>

	  </p></center></div>
	
      <div id="caffeine"
	   class="step"
	   data-x="0"
	   data-y="3500"
	   data-z="-5000"
	   data-rotate-x="-40"
	   data-rotate-y="10"
	   data-scale="2"
	   style="position: absolute;
		  width: 1500px;
		  height: 950px;">

	<iframe sandbox="allow-scripts
			 allow-same-origin
			 allow-top-navigation"
		id="a-frame"
		src="../a-frame/"
		style="position: absolute;
		       width: 1420px;
		       height: 870px;"></iframe></div>

      <div id="html5-morphic"
	   class="step"
	   data-x="6000"
	   data-y="3500"
	   data-z="-3000"
	   data-rotate-x="-40"
	   data-rotate-y="10"
	   data-scale="4"
	   style="width: 1200px;">

	<p>
	  
	  Squeak's GUI, <strong>Morphic</strong>, can draw all its
	  windows together on a single canvas, or each window on its
	  own canvas. The <a href="#title">first slide</a> contains an
	  example of this.

      </p></div>

      <div id="morphicjs"
	   class="step"
	   data-x="12000"
	   data-y="3500"
	   data-z="-3000"
	   data-rotate-x="-40"
	   data-rotate-y="10"
	   data-scale="4"
	   style="width: 1200px;">

	<p>
	   
	  There's also a standalone JS implementation of Morphic,
	  <strong>MorphicJS</strong>, from UC Berkeley's Snap project.

	</p><br><p>

	  We can use MorphicJS for Squeak windows, each in its own
	  HTML5 canvas, while Squeak itself runs as a headless backend
	  service.

	</p><br>

	<div id="morphicjs-window">

	  <canvas id="morphicjs-window-canvas"
		  data-keyboard-capture="true"
		  tabindex="1"
		  style="opacity: 0;"
		  width="700"
		  height="400"></canvas></div></div>

      <div id="wireframes"
	   class="step"
	   data-x="18000"
	   data-y="3500"
	   data-z="-3000"
	   data-rotate-x="-40"
	   data-rotate-y="10"
	   data-scale="4"
	   style="width: 1200px;">

	<p>
	  
	  The standalone Squeak Morphic and MorphicJS windows are
	  minor examples of <i>animated wireframes</i>: using DOM
	  elements defined by the HTML code of this presentation as
	  resources for code loaded later.

	</p><br><p>

	  We can extend this technique to use HTML for more extensive
	  expression of the GUI structures that our code uses. Rather
	  than burdening our code with implementing a UI system (event
	  handling and so on), we can reuse the one built into the web
	  browser.

      </div>

      <div id="code-browser-wireframe"
           class="step"
           data-x="24000"
           data-y="3500"
           data-z="-3000"
           data-rotate-x="-40"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

        <p>

	  Here's an example of animated HTML wireframe, defining the
	  UI of a Smalltalk code browser. The HTML DOM elements used
	  are cloned from a WebComponents import of a hand-designed
	  HTML file.

	</p><br><br><br><br></div>

      <div id="snowglobe"
           class="step"
           data-x="6000"
           data-y="12000"
           data-z="-6000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

        <p>

	  In addition to these local GUI alternatives, Caffeine
	  supports interaction with other system instances on remote
	  machines. <strong>Snowglobe</strong> is a framework for
	  connecting instances of Caffeine together, both at the GUI
	  and remote-messaging levels.

      </p></div>

      <div id="snowglobe-demo"
           class="step"
           data-x="12000"
           data-y="12000"
           data-z="-6000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

	<center>

	  <div id="snowglobe-demo-window">
	    
	    <canvas id="snowglobe-demo-canvas"
                    data-keyboard-capture="true"
                    tabindex="1"
                    style="opacity: 0;"
                    width="700"
                    height="400"></canvas></div>

	  <br>
	  
	  <div id="snowglobe-demo-caption">

	    <p style="all: initial;
		      font-size: xx-large;">

	      <br><large><i>

		  a snowglobe viewing Caffeine running on a remote
		  machine

      </i></large></p></div></center></div>

      <div id="parsing-javascript"
           class="step"
           data-x="18000"
           data-y="12000"
           data-z="-6000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

	  <p>

	    To augment the JavaScript bridge, Caffeine integrates the
	    
	    <a href="https://www.npmjs.com/package/esprima"
	       target="_blank"
	       rel="noopener noreferrer"
	       style="pointer-events: all;">

	      <strong>Esprima</strong></a>
	    
	    parsing framework, for parsing back and forth between
	    JavaScript and Smalltalk source code.

	  </p><br><br><br><br><br><br></div>

      <div id="livecoding-nodejs"
           class="step"
           data-x="24000"
           data-y="12000"
           data-z="-6000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1300px;">

	<p>

	  Caffeine can run in JavaScript environments outside web
	  browsers, too. In particular, it can run headlessly in

	  <a href="https://nodejs.org/en"
	     target="_blank"
	     rel="noopener noreferrer"
	     style="pointer-events: all;">

	    <strong>NodeJS</strong></a>
	  
	  instances (as a

	  <a href="https://www.html5rocks.com/en/tutorials/workers/basics"
	     target="_blank"
	     rel="noopener noreferrer"
	     style="pointer-events: all;">

	    <strong>Web Worker</strong></a>
	  
	  ), and it can inject JavaScript code into NodeJS instances
	  with help from the

	  <a href="https://www.npmjs.com/package/node-livecode"
	     target="_blank"
	     rel="noopener noreferrer"
	     style="pointer-events: all;">
	    
	    <strong>node-livecode</strong></a>

	  package on npm. Details are at my
	  blog, <a href="https://thiscontext.com"><i>thiscontext.com</i></a>:

	</p><br>

	<center>
	    
	  <iframe src="https://thiscontext.com/2017/07/04/browser-to-browser-websocket-tunnels-with-caffeine-and-livecoded-nodejs"
		  height="400"
		  width="600"></iframe>

	  <iframe src="https://thiscontext.com/2017/06/27/backend-caffeine-with-node-js-and-tweetcoding"
		  height="400"
		  width="600"></iframe></center></div>
	    
      <div id="speech-recognition"
           class="step"
           data-x="6000"
           data-y="20500"
           data-z="-9000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

	  <p>

	    The

	    <a href="https://aframe.io"
	       target="_blank"
	       rel="noopener noreferrer"
	       style="pointer-events: all;">
	    
	      <strong>A-Frame</strong></a>

	    XR support runs in headsets as well as 2D displays. For
	    non-AR non-6DOF headsets, it's useful to be able to type
	    by speaking, rather than having to view a physical
	    keyboard or use a virtual keyboard. Caffeine integrates
	    the

	    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API"
	       target="_blank"
	       rel="noopener noreferrer"
	       style="pointer-events: all;">
	    
	      <strong>Web Speech API</strong></a>.
	    
	  </p><br><br><br><br><br><br></div>

      <div id="webmidi"
           class="step"
           data-x="12000"
           data-y="20500"
           data-z="-9000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

	<p>

	  Another piece of Caffeine's audio infrastructure is
	  support for the

	  <a href="https://https://www.w3.org/TR/webmidi"
	     target="_blank"
	     rel="noopener noreferrer"
	     style="pointer-events: all;">
	    
	    <strong>WebMIDI API</strong></a>

	  .

	</p><br><br><br><br><br><br><br><br></div>

      <div id="chrome-debugging-protocol"
           class="step"
           data-x="18000"
           data-y="20500"
           data-z="-9000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 1200px;">

	<p>

	    In addition to manipulating the webpage in which it runs,
	    Caffeine can also livecode every other tab in the web
	    browser, with the help of the

	    <a href="https://chromedevtools.github.io/devtools-protocol"
	       target="_blank"
	       rel="noopener noreferrer"
	       style="pointer-events: all;">
	    
	      <strong>Chrome Remote Debugging Protocol</strong></a>

	    and the
	    
	    <a href="https://chrome.google.com/webstore/detail/caffeine-helper/hmfnphcjichoefnnncadoikiboacckmk"
	       target="_blank"
	       rel="noopener noreferrer"
	       style="pointer-events: all;">
	    
	      <strong>Caffeine Helper</strong></a>

	    extension from the Chrome Web Store.

	  </p><br><br><br><br><br><br></div>

      <div id="thanks"
           class="step"
           data-x="24000"
           data-y="20500"
           data-z="-9000"
           data-rotate-x="-120"
           data-rotate-y="10"
           data-scale="4"
           style="width: 950px;">

	<p>

	  <strong>Thanks!</strong></p>

	<br><ul><li>

	    • <strong>Dan Ingalls</strong> and team
	    for <strong>Squeak</strong>

	  <li>

	    • <strong>Bert Freudenberg</strong>
	    for <strong>SqueakJS</strong>

	  <li>

	    • the <strong>Squeak communities</strong>

	  <li>

	    • <strong>Eliot Miranda</strong>, <strong>Chris
	    Thorgrimsson</strong>, &nbsp;&nbsp;&nbsp;and <strong>Lam
	    Research</strong> for supporting the
	    &nbsp;&nbsp;&nbsp;development of Snowglobe

      </ul></div>
	
      <div id="overview"
	   class="step"
	   data-x="12000"
	   data-y="9500"
	   data-scale="27"
	   style="position: absolute;
		  left: 0px;
		  top: 0px;
		  width: 1400px;" /></div>

    <script src="js/impress/impress.js"></script>
    <script src="js/impress/lib/gc.js"></script>
    <script src="js/impress/lib/util.js"></script>
    <script src="js/impress/plugins/navigation.js"></script>
    <script src="js/impress/plugins/skip.js"></script>
    <script src="js/impress/plugins/touch.js"></script>
    <script>impress().init()</script>
    <script src="js/html/utilities.js"></script>
    <script src="js/talk.js"></script></body></html>
